"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[914],{8914:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var r=a(5861),n=a(9439),s=a(4687),i=a.n(s),l=a(2791),c=a(6731),u="FilmSearch_searchbar__TJ0zj",o="FilmSearch_form__oGr70",m="FilmSearch_input__js219",_="FilmSearch_btn__2oaGM",h=a(184),p=function(e){var t=e.onSubmitValue,a=(0,c.lr)(""),r=(0,n.Z)(a,2),s=r[0],i=r[1],p=s.get("query"),f=(0,l.useState)(null!==p&&void 0!==p?p:""),d=(0,n.Z)(f,2),v=d[0],g=d[1];return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("header",{className:u,children:(0,h.jsxs)("form",{className:o,onSubmit:t,children:[(0,h.jsx)("button",{type:_,className:_,children:(0,h.jsx)("span",{className:"button-label",children:"Search"})}),(0,h.jsx)("input",{className:m,type:"text",name:"name",value:v,placeholder:"Search movies",onChange:function(e){var t=e.target.value.trim();g(t),i(""===t?{}:{query:t})}})]})})})},f=a(4917),d=a(4569),v=a.n(d),g=a(7689),j=a(8009),x="Movies_wrapper__RVmCE",b="Movies_title__MDLXB",S="Movies_list__hqYjd",N="Movies_link__MzAfU",k="Movies_image__wrapper__DjDVZ",w="Movies_image__vvLaG",M=function(){var e,t=(0,c.lr)(""),a=null!==(e=(0,n.Z)(t,1)[0].get("query"))&&void 0!==e?e:"",s=(0,g.TH)(),u=(0,l.useState)([]),o=(0,n.Z)(u,2),m=o[0],_=o[1],d=(0,l.useState)(!1),M=(0,n.Z)(d,2),y=M[0],Z=M[1],F=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(!0),e.next=4,v().get("https://api.themoviedb.org/3/search/movie?api_key=53f28f10fb3650af7c7f4f04a387344f&language=en-US&page=1&include_adult=false&query=".concat(a));case 4:0===(t=e.sent).data.results.length&&j.Am.error("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :("),_(t.data.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j.Am.error("\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :(");case 12:return e.prev=12,Z(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){a&&F()}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)(p,{onSubmitValue:function(e){if(e.preventDefault(),!e.target.elements.name.value.trim())return(0,j.Am)("\u0412\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");F()}}),y&&(0,h.jsx)(f.Z,{}),(0,h.jsx)("ul",{className:S,children:m.map((function(e){return(0,h.jsxs)(c.rU,{className:N,to:"/movies/".concat(e.id),state:{from:s},children:[(0,h.jsx)("div",{className:k,children:(0,h.jsx)("img",{className:w,src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),width:"230",alt:e.title})}),(0,h.jsxs)("p",{className:b,children:["Title: ",e.original_title||e.original_name]})]},e.id)}))})]})})}}}]);
//# sourceMappingURL=914.341d9540.chunk.js.map