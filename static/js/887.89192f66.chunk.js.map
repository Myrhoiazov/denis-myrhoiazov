{"version":3,"file":"static/js/887.89192f66.chunk.js","mappings":"mPACA,EAA4B,8BAA5B,EAAiE,yBAAjE,EAAkG,0BAAlG,EAAkI,wB,SCwClI,EArCoB,SAAC,GAAuB,IAArBA,EAAoB,EAApBA,cACrB,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAOF,EAAaG,IAAI,SAC9B,GAA0BC,EAAAA,EAAAA,UAAQ,OAACF,QAAD,IAACA,EAAAA,EAAQ,IAA3C,eAAOG,EAAP,KAAcC,EAAd,KAUA,OACE,+BACE,mBAAQC,UAAWC,EAAnB,UACE,kBAAMD,UAAWC,EAAYC,SAAUX,EAAvC,WACE,mBAAQY,KAAMF,EAAWD,UAAWC,EAApC,UACE,iBAAMD,UAAU,eAAhB,uBAGF,kBACEA,UAAWC,EACXE,KAAK,OAGLR,KAAK,OACLG,MAAOA,EACPM,YAAY,gBACZC,SAxBgB,SAAAC,GACxB,IAAMC,EAAaD,EAAME,OAAOV,MAAMW,OAEtCV,EAASQ,GACTb,EAA+B,KAAfa,EAAoB,CAAC,EAAI,CAAEG,MAAOH,GACnD,UAyBF,E,iDCtCD,EAA0B,wBAA1B,EAAwJ,sBAAxJ,EAAiN,qBAAjN,EAA6O,qBAA7O,EAAmR,+BAAnR,EAA0T,sBCsF1T,EA/Ee,WAAO,IAAD,EACnB,GAAuBf,EAAAA,EAAAA,IAAgB,IACjCkB,EAAK,WADX,eAC2Bd,IAAI,gBAApB,QAAgC,GACrCe,GAAWC,EAAAA,EAAAA,MAEjB,GAAsCf,EAAAA,EAAAA,UAAS,IAA/C,eAAOgB,EAAP,KAAoBC,EAApB,KACA,GAA4BjB,EAAAA,EAAAA,WAAS,GAArC,eAAOkB,EAAP,KAAeC,EAAf,KAEMC,EAAU,mCAAG,oGAEfD,GAAU,GAFK,SAGQE,IAAAA,IAAA,6IACiHR,IAJzH,OAMsB,KAH/BS,EAHS,QAMFC,KAAKC,QAAQC,QACxBC,EAAAA,GAAAA,MAAY,gMAEdT,EAAeK,EAASC,KAAKC,SATd,gDAWfE,EAAAA,GAAAA,MAAY,qGAXG,yBAafP,GAAU,GAbK,4EAAH,qDAqChB,OARAQ,EAAAA,EAAAA,YAAU,WACHd,GAILO,GACD,GAAE,KAGD,+BACE,iBAAKjB,UAAWyB,EAAhB,WACE,SAAC,EAAD,CAAalC,cAvBG,SAAAmC,GAKpB,GAJAA,EAAGC,kBAEgBD,EAAGlB,OAAOoB,SAASjC,KAAKG,MAAMW,OAG/C,OAAOc,EAAAA,EAAAA,IAAM,sGAGfN,GACD,IAcMF,IAAU,SAACc,EAAA,EAAD,KAET,eAAI7B,UAAWyB,EAAf,SACGZ,EAAYiB,KAAI,SAAAC,GAAI,OACnB,UAAC,KAAD,CACE/B,UAAWyB,EAEXO,GAAE,kBAAaD,EAAKE,IACpBC,MAAO,CAAEC,KAAMxB,GAJjB,WAME,gBAAKX,UAAWyB,EAAhB,UACE,gBACEzB,UAAWyB,EACXW,IAAG,yCAAoCL,EAAKM,aAC5CC,MAAM,MACNC,IAAKR,EAAKS,WAGd,eAAGxC,UAAWyB,EAAd,oBACUM,EAAKU,gBAAkBV,EAAKW,mBAbjCX,EAAKE,GAHO,UAyBhC,C","sources":["webpack://react-homework-template/./src/components/FilmsSearch/FilmSearch.module.css?4547","components/FilmsSearch/FilmsSearch.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"FilmSearch_searchbar__3hHPg\",\"form\":\"FilmSearch_form__sL1JC\",\"input\":\"FilmSearch_input__5tn1R\",\"btn\":\"FilmSearch_btn__W7r11\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport style from './FilmSearch.module.css';\n\nconst FilmsSearch = ({ onSubmitValue }) => {\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const name = searchParams.get('query');\n  const [value, setValue] = useState(name ?? '');\n\n  const handleChangeValue = event => {\n    const cleanValue = event.target.value.trim();\n\n    setValue(cleanValue);\n    setSearchParams(cleanValue === '' ? {} : { query: cleanValue });\n  };\n\n\n  return (\n    <>\n      <header className={style.searchbar}>\n        <form className={style.form} onSubmit={onSubmitValue}>\n          <button type={style.btn} className={style.btn}>\n            <span className=\"button-label\">Search</span>\n          </button>\n\n          <input\n            className={style.input}\n            type=\"text\"\n            // autoComplete=\"off\"\n            // autoFocus=\"off\"\n            name=\"name\"\n            value={value}\n            placeholder=\"Search movies\"\n            onChange={handleChangeValue}\n          />\n        </form>\n      </header>\n    </>\n  );\n};\n\nexport default FilmsSearch;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Movies_wrapper__RVmCE\",\"searchbar\":\"Movies_searchbar__IBimh\",\"input\":\"Movies_input__KrUqs\",\"btn\":\"Movies_btn__TlfBQ\",\"title\":\"Movies_title__MDLXB\",\"text\":\"Movies_text__FlKVm\",\"list\":\"Movies_list__hqYjd\",\"link\":\"Movies_link__MzAfU\",\"image__wrapper\":\"Movies_image__wrapper__DjDVZ\",\"image\":\"Movies_image__vvLaG\"};","import FilmsSearch from 'components/FilmsSearch';\nimport { useState, useEffect } from 'react';\nimport Loader from 'components/Loader';\nimport axios from 'axios';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport s from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams] = useSearchParams('');\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  const [searchFilms, setSearchFilms] = useState([]);\n  const [loader, setLoader] = useState(false);\n\n  const serviceApi = async () => {\n    try {\n      setLoader(true);\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?api_key=53f28f10fb3650af7c7f4f04a387344f&language=en-US&page=1&include_adult=false&query=${query}`\n      );\n      if (response.data.results.length === 0) {\n        toast.error('По вашему запросу ничего не найдено :(');\n      }\n      setSearchFilms(response.data.results);\n    } catch (error) {\n      toast.error('Что то пошло не так :(');\n    } finally {\n      setLoader(false);\n    }\n  };\n\n  const onSubmitValue = ev => {\n    ev.preventDefault();\n\n    const cleanValue = ev.target.elements.name.value.trim();\n\n    if (!cleanValue) {\n      return toast('Ведите свой запрос');\n    }\n\n    serviceApi();\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    serviceApi();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <div className={s.wrapper}>\n        <FilmsSearch onSubmitValue={onSubmitValue} />\n        {loader && <Loader />}\n        {\n          <ul className={s.list}>\n            {searchFilms.map(film => (\n              <Link\n                className={s.link}\n                key={film.id}\n                to={`/movies/${film.id}`}\n                state={{ from: location }}\n              >\n                <div className={s.image__wrapper}>\n                  <img\n                    className={s.image}\n                    src={`https://image.tmdb.org/t/p/w500${film.poster_path}`}\n                    width=\"230\"\n                    alt={film.title}\n                  />\n                </div>\n                <p className={s.title}>\n                  Title: {film.original_title || film.original_name}\n                </p>\n              </Link>\n            ))}\n          </ul>\n        }\n      </div>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["onSubmitValue","useSearchParams","searchParams","setSearchParams","name","get","useState","value","setValue","className","style","onSubmit","type","placeholder","onChange","event","cleanValue","target","trim","query","location","useLocation","searchFilms","setSearchFilms","loader","setLoader","serviceApi","axios","response","data","results","length","toast","useEffect","s","ev","preventDefault","elements","Loader","map","film","to","id","state","from","src","poster_path","width","alt","title","original_title","original_name"],"sourceRoot":""}